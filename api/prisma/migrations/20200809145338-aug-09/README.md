# Migration `20200809145338-aug-09`

This migration has been generated by Suraj Shrestha at 8/9/2020, 2:53:38 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."stock_data" (
"close_price" Decimal(65,30)   ,"company" text  NOT NULL ,"datetime" timestamp(3)  NOT NULL ,"high_price" Decimal(65,30)   ,"id" SERIAL,"low_price" Decimal(65,30)   ,"negative_tweets_count" integer   ,"news_count" integer   ,"open_price" Decimal(65,30)   ,"positive_tweets_count" integer   ,"predicted_close_price" Decimal(65,30)   ,"stock" text  NOT NULL ,"tweets_count" integer   ,"volume" integer   ,
    PRIMARY KEY ("id"))

CREATE UNIQUE INDEX "stock_data.stock_datetime" ON "public"."stock_data"("stock","datetime")

DROP TABLE "public"."apscheduler_jobs";

DROP TABLE "public"."stock_data_2";

DROP TABLE "public"."stock_data_temp";
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200628000552-make-optional..20200809145338-aug-09
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource DS {
   provider = "postgres"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator client {
   provider      = "prisma-client-js"
@@ -12,12 +12,18 @@
 model stock_data {
   id                    Int      @id @default(autoincrement())
   stock                 String
-  company               String?
+  company               String
   datetime              DateTime
+  open_price            Float?
+  high_price            Float?
+  low_price             Float?
+  close_price           Float?
+  volume                Int?
   news_count            Int?
   tweets_count          Int?
   positive_tweets_count Int?
   negative_tweets_count Int?
-  // @@unique([stock, datetime])
+  predicted_close_price Float?
+  @@unique([stock, datetime])
 }
```


